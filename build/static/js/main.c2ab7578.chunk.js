(this["webpackJsonpbookswap-client"]=this["webpackJsonpbookswap-client"]||[]).push([[0],{177:function(e,t){},193:function(e,t,n){},291:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(26),s=n.n(r),o=(n(193),n(37)),i=n(29),l=n(24),j=n(23),b=n.n(j),d=n(31);var u=function(e,t){var n=localStorage.getItem(t),c=n?JSON.parse(n):e,r=Object(a.useState)(c),s=Object(l.a)(r,2),o=s[0],i=s[1];return Object(a.useEffect)((function(){localStorage.setItem(t,JSON.stringify(o))}),[o,t]),[o,i]},h=n(73),p=n.n(h),x=p.a.create({baseURL:"/auth",withCredentials:!0}),O=function(e){return x.post("/auth/signup",e)},f=function(e){return x.post("/auth/login",e)},m=function(e){return x.get("/auth/logout")},v=function(e){return x.get("/auth/session")},g=function(e){return x.post("/auth/avatar/change",{avatar:e})},y=n(182),k=n(4),w=Object(a.createContext)(),S=function(e){var t=u(null,"user"),n=Object(l.a)(t,2),c=n[0],r=n[1];function s(){return(s=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("algo",t),e.prev=1,e.next=4,O(t);case 4:r(t),console.log(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),y.b.error(e.t0.response.data.message),console.dir("Aqui esta el error",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function o(){return(o=Object(d.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("algo",t),e.prev=1,e.next=4,f(t);case 4:n=e.sent,a=n.data,r(a),console.log(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),y.b.error(e.t0.response.data.message),console.log("Aqui esta el error",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function i(){return(i=Object(d.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:r(null);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:t=e.sent,(n=t.data)&&r(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r]),Object(k.jsx)(w.Provider,{value:{user:c,signup:function(e){return s.apply(this,arguments)},login:function(e){return o.apply(this,arguments)},logout:function(){return i.apply(this,arguments)},setUser:r},children:e.children})},C=function(){return Object(a.useContext)(w)},z=n(293),B=n(305),F=n(303),I=n(94),T=n(55),R=n(45),M=n(59),_=n(302),L=n(185),A=z.a.Content,N=(z.a.Sider,z.a.Header);z.a.Footer;var E=function(e){var t=e.children,n=C(),c=n.user,r=n.logout,s=Object(a.useState)(!1),j=Object(l.a)(s,2),b=j[0],d=j[1],u=function(){return d(!1)};return Object(k.jsxs)(z.a,{span:24,className:"site-layout",style:{backgroundColor:"white"},children:[Object(k.jsxs)(N,{style:{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"white",boxShadow:"5px 5px 10px rgba(178, 178, 178, .30)"},children:[Object(k.jsxs)("div",{className:"logo",children:[Object(k.jsx)(o.b,{to:"/",children:Object(k.jsx)("img",{style:{width:"300px"},src:"https://res.cloudinary.com/dyvopd0iz/image/upload/v1615492605/BookSwapp/logo_dtylzm.svg"})}),Object(k.jsx)(be,{})]}),Object(k.jsxs)(B.a,{theme:"light",mode:"horizontal",defaultSelectedKeys:["4"],styles:{textTransform:"uppercase"},children:[c&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(B.a.Item,{children:Object(k.jsxs)(o.b,{to:"/profile",children:[Object(k.jsx)(F.a,{alt:"avatar",src:c.avatar,size:"small"}),"\xa0\xa0\xa0",c.username]})},"1"),Object(k.jsx)(B.a.Item,{children:Object(k.jsx)(o.b,{to:"/book/bookmarks",children:"Bookmarks"})},"2"),Object(k.jsx)(B.a.Item,{children:Object(k.jsx)(o.b,{to:"/book/explore",children:"Explore"})},"3")]}),!c&&Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(B.a.Item,{children:Object(k.jsx)(o.b,{to:"/auth",children:"Login"})},"4")}),c?Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(B.a.Item,{onClick:function(){return r()},children:"Logout"},"5")}):Object(k.jsx)(i.a,{to:"/"})]})]}),Object(k.jsx)(A,{children:Object(k.jsxs)(I.a,{gutter:48,children:[Object(k.jsx)(T.a,{s:24,sm:24,md:{span:1},children:c&&Object(k.jsx)("div",{style:{left:"55px",top:"100px",height:"60px",width:"60px",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#2f54eb",borderRadius:"50%"},children:Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(R.a,{title:"Add a Book",placement:"bottom",color:"#061178",children:Object(k.jsx)(M.a,{style:{border:"none"},ghost:!0,shape:"round",icon:Object(k.jsx)(L.a,{style:{fontSize:"1.5rem"}}),onClick:function(){return d(!0)}})})})})}),Object(k.jsx)(T.a,{s:24,sm:24,md:{span:16,offset:4},children:Object(k.jsx)("div",{style:{padding:24,textAlign:"center"},children:t})})]})}),Object(k.jsx)(T.a,{s:24,sm:24,md:{span:24,offset:4},children:Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(_.a,{onCancel:u,visible:b,style:{width:"100%"},footer:!1,children:Object(k.jsx)(ae,{closeModal:u})})})})]})},H=n(54),U=n(132);var P=function(e){var t=e.component,n=Object(U.a)(e,["component"]),a=C().user;return Object(k.jsx)(i.b,Object(H.a)(Object(H.a)({},n),{},{render:function(e){return a?Object(k.jsx)(i.a,{to:"/explore"}):Object(k.jsx)(t,Object(H.a)({},e))}}))};var D=function(e){var t=e.component,n=Object(U.a)(e,["component"]),a=C().user;return Object(k.jsx)(i.b,Object(H.a)(Object(H.a)({},n),{},{render:function(e){return a?Object(k.jsx)(t,Object(H.a)({},e)):Object(k.jsx)(i.a,{to:"/auth"})}}))},q=n(298),J=n(304),W=n(299),G=n(297),K=n(295),X=n(46),Y=function(e){return x.post("/book/create",e)},Q=function(){return x.get("/book/all")},V=(q.a.Text,J.a.TextArea),Z=W.a.Option;var $,ee,te,ne,ae=function(e){var t=e.closeModal,n=G.a.useForm(),c=Object(l.a)(n,1)[0],r=Object(a.useState)(!1),s=Object(l.a)(r,2),o=s[0],i=s[1],j=Object(a.useState)(null),u=Object(l.a)(j,2),h=(u[0],u[1],C()),x=(h.user,h.setUser),O=Object(a.useState)(""),f=Object(l.a)(O,2),m=f[0],v=f[1],g=Object(k.jsxs)("div",{children:[o?Object(k.jsx)(X.a,{}):Object(k.jsx)(L.a,{}),Object(k.jsx)("div",{style:{marginTop:8},children:"Upload"})]}),w=function(){var e=Object(d.a)(b.a.mark((function e(t){var n,a,c,r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c in n={file:t,upload_preset:"BookSwapp"},a=new FormData,n)a.append(c,n[c]);return"https://api.cloudinary.com/v1_1/dyvopd0iz/image/upload",i(!0),e.prev=5,e.next=8,p.a.post("https://api.cloudinary.com/v1_1/dyvopd0iz/image/upload",a);case 8:r=e.sent,s=r.data,console.log(s),i(!1),v(s.secure_url),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),console.log(e.t0.response),console.log(t);case 19:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}();function S(){return(S=Object(d.a)(b.a.mark((function e(n){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y(Object(H.a)(Object(H.a)({},n),{},{bookCover:m,lat:"19.41655056326856",lng:"-99.17123705128316"}));case 3:a=e.sent,c=a.data,console.log("Lo que sea",c),x(c),t(),y.b.success("Book added to your bookshelf"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),y.b.error(e.t0.response.data.message);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return Object(k.jsx)(I.a,{gutter:[16,16],children:Object(k.jsxs)(T.a,{xs:24,sm:24,md:{span:24},children:[Object(k.jsx)(q.a.Title,{level:1,children:"New Book"}),Object(k.jsxs)(G.a,{form:c,onFinish:function(e){return S.apply(this,arguments)},layout:"vertical",children:[Object(k.jsx)(G.a.Item,{name:"title",label:"Title",children:Object(k.jsx)(J.a,{type:"text"})}),Object(k.jsx)(G.a.Item,{name:"author",label:"Author",children:Object(k.jsx)(J.a,{type:"text"})}),Object(k.jsx)(G.a.Item,{name:"isbn",label:"ISBN",children:Object(k.jsx)(J.a,{type:"text"})}),Object(k.jsx)(G.a.Item,{name:"category",label:"Category",children:Object(k.jsxs)(W.a,{style:{width:"100%"},children:[Object(k.jsx)(Z,{value:0,children:"Action and Adventure"}),Object(k.jsx)(Z,{value:1,children:"Classics"}),Object(k.jsx)(Z,{value:2,children:"Comic Book or Graphic Novel"}),Object(k.jsx)(Z,{value:3,children:"Detective and Mystery"}),Object(k.jsx)(Z,{value:4,children:"Fantasy"}),Object(k.jsx)(Z,{value:5,children:"Historical Fiction"}),Object(k.jsx)(Z,{value:6,children:"Horror"}),Object(k.jsx)(Z,{value:7,children:"Arts and Music"}),Object(k.jsx)(Z,{value:8,children:"Biographies"}),Object(k.jsx)(Z,{value:9,children:"Business"}),Object(k.jsx)(Z,{value:10,children:"Computers and Tech"}),Object(k.jsx)(Z,{value:11,children:"Cooking"}),Object(k.jsx)(Z,{value:12,children:"Edu and Reference"}),Object(k.jsx)(Z,{value:13,children:"Entertainment"}),Object(k.jsx)(Z,{value:14,children:"Health and Fitness"}),Object(k.jsx)(Z,{value:15,children:"History"}),Object(k.jsx)(Z,{value:16,children:"Hobbies and Crafts"}),Object(k.jsx)(Z,{value:17,children:"Home and Garden"}),Object(k.jsx)(Z,{value:18,children:"Kids"}),Object(k.jsx)(Z,{value:19,children:"Literature and Fiction"}),Object(k.jsx)(Z,{value:20,children:"Medical"}),Object(k.jsx)(Z,{value:21,children:"Parenting"}),Object(k.jsx)(Z,{value:22,children:"Religion"}),Object(k.jsx)(Z,{value:23,children:"Romance"}),Object(k.jsx)(Z,{value:24,children:"Sci-Fi and Fantasy"}),Object(k.jsx)(Z,{value:25,children:"Science and Math"}),Object(k.jsx)(Z,{value:26,children:"Self-Help"}),Object(k.jsx)(Z,{value:27,children:"Social Sciences"}),Object(k.jsx)(Z,{value:28,children:"Sports"}),Object(k.jsx)(Z,{value:29,children:"Travel"}),Object(k.jsx)(Z,{value:30,children:"Teen"}),Object(k.jsx)(Z,{value:31,children:"True Crime"}),Object(k.jsx)(Z,{value:32,children:"Special editions"}),Object(k.jsx)(Z,{value:33,children:"Novel"}),Object(k.jsx)(Z,{value:34,children:"Other"})]})}),Object(k.jsx)(G.a.Item,{name:"bookCover",label:"BookCover",children:Object(k.jsx)(K.a,{name:"bookCover",showUploadList:!1,beforeUpload:w,listType:"picture-card",className:"avatar-uploader",children:g})}),Object(k.jsx)(G.a.Item,{name:"review",label:"Review",children:Object(k.jsx)(V,{rows:4,type:"text"})}),Object(k.jsx)(M.a,{type:"primary",htmlType:"submit",block:!0,size:"large",children:"Add Book"})]})]})})},ce=n(82),re=n(72),se=re.b.div($||($=Object(ce.a)(["\n  font-size: 2.5rem;\n  position:absolute;\n  left:112px;\n  top:13px;\n  width: 100vw;\n  height:100vh;\n  cursor: pointer;\n  padding:50px;\n  \n"]))),oe=re.b.div(ee||(ee=Object(ce.a)(["\n  text-align: center;\n  display: flex;\n  font-size: 0.65em;\n  width: 1em;\n  height: 1em;\n  position: absolute;\n  left: 0.25em;\n  top: 0.3em;\n  \n"]))),ie=re.b.div(te||(te=Object(ce.a)(["\n  text-align: center;\n  display: flex;\n  font-size: 0.65em;\n  width: 1em;\n  height: 1em;\n  position: absolute;\n  left: 0.25em;\n  top: 0.3em;\n  background-color: none;\n  border-radius: 50%;\n  animation: blink forwards infinite 10s ease-in-out;\n"]))),le=re.b.div(ne||(ne=Object(ce.a)(["\n  position: relative;\n  display: inline-block;\n  border-radius: 50%;\n  width: 50%;\n  height: 50%;\n  background-color: #2f54eb;\n  border-radius: 50%;\n"]))),je=function(e){var t=document.querySelector(".eyes"),n=t.getBoundingClientRect().left,a=t.getBoundingClientRect().top,c=Math.atan2(e.pageX-n,e.pageY-a)*(180/Math.PI)*-1+180;t.style.transform="rotate(".concat(c,"deg)")};var be=function(){return Object(k.jsx)(se,{onMouseMove:je,className:"ufo",children:Object(k.jsx)(ie,{className:"eye-lid",children:Object(k.jsx)(oe,{className:"eyes",children:Object(k.jsx)(le,{className:"eye"})})})})};J.a.Search;var de=n(296),ue=n(300),he=n(301),pe=q.a.Title,xe=de.a.Meta,Oe={height:"70vh",color:"#fff",alignContent:"center",marginLeft:"auto",marginRight:"auto"};var fe=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)("large"),s=Object(l.a)(r,2);return s[0],s[1],Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:t=e.sent,n=t.data.books,c(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(I.a,{style:{backgroundColor:"#f0f5ff"},children:Object(k.jsx)(T.a,{children:Object(k.jsxs)(ue.a,{autoplay:!0,effect:"fade",dots:!0,children:[Object(k.jsx)("div",{style:{display:"block",marginLeft:"auto",marginRight:"auto"},children:Object(k.jsx)("img",{style:Oe,src:"https://res.cloudinary.com/dyvopd0iz/image/upload/v1615486882/BookSwapp/carousel-01_vid8yq.jpg"})}),Object(k.jsx)("div",{style:{display:"block",marginLeft:"auto",marginRight:"auto"},children:Object(k.jsx)("img",{style:Oe,src:"https://res.cloudinary.com/dyvopd0iz/image/upload/v1615486882/BookSwapp/carousel-02_gthavr.jpg"})}),Object(k.jsx)("div",{style:{display:"block",marginLeft:"auto",marginRight:"auto"},children:Object(k.jsx)("img",{style:Oe,src:"https://res.cloudinary.com/dyvopd0iz/image/upload/v1615486882/BookSwapp/carousel-03_ttpxgb.jpg"})}),Object(k.jsx)("div",{style:{display:"block",marginLeft:"auto",marginRight:"auto"},children:Object(k.jsx)("img",{style:Oe,src:"https://res.cloudinary.com/dyvopd0iz/image/upload/v1615486882/BookSwapp/carousel-04_vehspv.jpg"})})]})})}),Object(k.jsxs)(I.a,{gutter:[16,16],children:[Object(k.jsx)(T.a,{span:16,offset:4,children:Object(k.jsx)(pe,{level:3,style:{fontFamily:"Raleway",fontWeight:500},children:"Latest available books"})}),n?n.slice(0,6).map((function(e){return Object(k.jsx)(T.a,{xs:{span:16},md:{span:8},children:Object(k.jsx)(de.a,{hoverable:!0,cover:Object(k.jsx)("img",{alt:"Book cover",src:e.bookCover,style:{height:"320px",objectFit:"contain",padding:"30px"}}),title:e.name,bordered:!0,children:Object(k.jsx)(xe,{title:"".concat(e.title),description:e.author})})},e._id)})):Object(k.jsx)(T.a,{span:16,offset:4,children:Object(k.jsx)(he.a,{active:!0})})]})]})},me=n(306),ve=n(307),ge=n(294),ye=q.a.Text;var ke=function(){var e=G.a.useForm(),t=Object(l.a)(e,1)[0],n=C().login;function a(){return(a=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(k.jsx)(I.a,{gutter:[16,16],children:Object(k.jsxs)(T.a,{xs:24,sm:24,md:{span:5,offset:9},children:[Object(k.jsx)(q.a.Title,{level:1,children:"Login"}),Object(k.jsxs)(G.a,{form:t,onFinish:function(e){return a.apply(this,arguments)},layout:"vertical",children:[Object(k.jsx)(G.a.Item,{name:"email",label:"Email:",children:Object(k.jsx)(J.a,{type:"email"})}),Object(k.jsx)(G.a.Item,{name:"password",label:"Password:",children:Object(k.jsx)(J.a.Password,{})}),Object(k.jsx)(M.a,{type:"primary",htmlType:"submit",block:!0,size:"large",children:"Login"})]}),Object(k.jsx)(ge.a,{id:"socialStrategies",children:"Or log in with"}),Object(k.jsxs)(I.a,{gutter:[48,8],justify:"space-between",children:[Object(k.jsx)(T.a,{align:"center",children:Object(k.jsx)("div",{style:{width:60,height:60,borderRadius:50,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#DB4437"},children:Object(k.jsx)("a",{href:"http://localhost:3001/auth/google",children:Object(k.jsx)(me.a,{style:{fontSize:"1.8rem",color:"white"}})})})}),Object(k.jsx)(T.a,{align:"center",children:Object(k.jsx)("div",{style:{width:60,height:60,borderRadius:50,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#4267B2"},children:Object(k.jsx)("a",{href:"http://localhost:3001/auth/facebook",children:Object(k.jsx)(ve.a,{style:{fontSize:"1.8rem",color:"white"}})})})}),Object(k.jsx)(T.a,{span:24,align:"middle",children:Object(k.jsxs)(ye,{children:["Don't have an account? ",Object(k.jsx)(o.b,{to:"/signup",children:"Sign up here!"})]})})]})]})})},we=n(136),Se=q.a.Text;Object(we.b)("#eb2f96"),Object(we.a)("#eb2f96");var Ce=function(){var e=G.a.useForm(),t=Object(l.a)(e,1)[0],n=C().signup;function a(){return(a=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(t);case 3:y.b.success("Account created"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),y.b.error(e.t0.response.data.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(k.jsx)(I.a,{gutter:[16,16],children:Object(k.jsxs)(T.a,{xs:24,sm:24,md:{span:5,offset:9},children:[Object(k.jsx)(q.a.Title,{level:1,children:"Signup"}),Object(k.jsxs)(G.a,{form:t,onFinish:function(e){return a.apply(this,arguments)},layout:"vertical",children:[Object(k.jsx)(G.a.Item,{name:"username",label:"Username:",children:Object(k.jsx)(J.a,{type:"text"})}),Object(k.jsx)(G.a.Item,{name:"email",label:"Email:",children:Object(k.jsx)(J.a,{type:"email"})}),Object(k.jsx)(G.a.Item,{name:"password",label:"Password:",children:Object(k.jsx)(J.a.Password,{})}),Object(k.jsx)(M.a,{type:"primary",htmlType:"submit",block:!0,size:"large",children:"Signup"})]}),Object(k.jsx)(ge.a,{id:"socialStrategies",children:"Or log in with"}),Object(k.jsxs)(I.a,{gutter:[48,8],justify:"space-between",children:[Object(k.jsx)(T.a,{align:"center",children:Object(k.jsx)("div",{style:{width:60,height:60,borderRadius:50,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#DB4437"},children:Object(k.jsx)("a",{href:"http://localhost:3001/auth/google",children:Object(k.jsx)(me.a,{style:{fontSize:"1.8rem",color:"white"}})})})}),Object(k.jsx)(T.a,{align:"center",children:Object(k.jsx)("div",{style:{width:60,height:60,borderRadius:50,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#4267B2"},children:Object(k.jsx)("a",{href:"http://localhost:3001/auth/facebook",children:Object(k.jsx)(ve.a,{style:{fontSize:"1.8rem",color:"white"}})})})}),Object(k.jsx)(T.a,{span:24,align:"middle",className:"changeAuth",children:Object(k.jsxs)(Se,{children:["Already have an account? ",Object(k.jsx)(o.b,{to:"/auth",children:"Login"})]})})]})]})})},ze=n(186),Be=n(187),Fe=n(308),Ie=de.a.Meta,Te="geekblue";var Re=function(){var e=C(),t=e.user,n=e.setUser,c=Object(a.useState)(!1),r=Object(l.a)(c,2),s=r[0],o=r[1],i=Object(a.useState)(!1),j=Object(l.a)(i,2),u=j[0],h=j[1],O=function(){h(!0)},f=function(){h(!1)},m=function(){h(!1)},v=Object(k.jsxs)("div",{children:[s?Object(k.jsx)(X.a,{}):Object(k.jsx)(L.a,{}),Object(k.jsx)("div",{style:{marginTop:8},children:"Add avatar"})]}),y=function(){var e=Object(d.a)(b.a.mark((function e(t){var a,c,r,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t),"https://api.cloudinary.com/v1_1/dyvopd0iz/image/upload",a.append("upload_preset","BookSwapp"),o(!0),e.next=7,p.a.post("https://api.cloudinary.com/v1_1/dyvopd0iz/image/upload",a);case 7:return c=e.sent,r=c.data,e.next=11,g(r.secure_url);case 11:s=e.sent,i=s.data,o(!1),n(i);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();console.log(t.bookshelf);var w=function(e){var t;console.log(e),t=e,x.delete("/book/delete/".concat(t))};return Object(k.jsxs)(I.a,{gutter:[16,16],children:[t?Object(k.jsx)(T.a,{xs:24,sm:24,md:{span:24},children:Object(k.jsxs)(de.a,{style:{width:"100%",marginTop:16},children:[Object(k.jsx)(Ie,{style:{textAlign:"left"},avatar:Object(k.jsx)(F.a,{src:t.avatar,style:{width:"55px",height:"55px"}}),title:"Hi ".concat(t.username),description:"Welcome to your Bookshelf"}),Object(k.jsxs)(T.a,{span:24,children:[Object(k.jsx)(ge.a,{}),Object(k.jsx)(K.a,{name:"avatar",showUploadList:!1,beforeUpload:y,listType:"picture-card",className:"avatar-uploader",children:v})]})]})}):Object(k.jsx)(T.a,{xs:24,sm:24,md:{span:16,offset:4},children:Object(k.jsx)(he.a,{active:!0})}),t.bookshelf?t.bookshelf.map((function(e){return Object(k.jsx)(T.a,{xs:24,sm:24,md:{span:8},children:Object(k.jsxs)(de.a,{hoverable:!0,cover:Object(k.jsx)("img",{alt:"Book Cover",src:e.bookCover,style:{height:"300px",objectFit:"contain",paddingTop:"10px"}}),actions:[Object(k.jsx)(R.a,{title:"Edit",placement:"top",color:Te,children:Object(k.jsx)(ze.a,{},"edit")}),Object(k.jsx)(R.a,{title:"Delete book",placement:"top",color:Te,children:Object(k.jsx)(Be.a,{onClick:function(){w(e._id)}},"delete")}),Object(k.jsx)(R.a,{title:"See the review",placement:"top",color:Te,children:Object(k.jsx)(Fe.a,{onClick:O},"more")})],children:[Object(k.jsx)(Ie,{title:"".concat(e.title),description:e.author}),Object(k.jsx)(_.a,{title:"".concat(e.title),footer:!1,visible:u,onOk:f,onCancel:m,children:e.review})]})},e._id)})):Object(k.jsx)(T.a,{span:16,offset:4,children:Object(k.jsx)(he.a,{active:!0})})]})},Me=n(309),_e=n(310),Le=de.a.Meta,Ae="geekblue";var Ne=function(){var e=C(),t=e.user,n=(e.setUser,Object(a.useState)(null));n.book,n.setBook,Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t,n){e.apply(this,arguments)}()}),[]);var c=Object(a.useState)(!1),r=Object(l.a)(c,2),s=r[0],o=r[1],i=function(){o(!0)},j=function(){o(!1)},u=function(){o(!1)};console.log(t.bookmarks);var h=function(){};return Object(k.jsxs)(I.a,{gutter:[16,16],children:[t?Object(k.jsx)(T.a,{xs:24,sm:24,md:{span:24},children:Object(k.jsx)(de.a,{style:{width:"100%",marginTop:16},children:Object(k.jsx)(Le,{style:{textAlign:"left"},avatar:Object(k.jsx)(F.a,{src:t.avatar,style:{width:"55px",height:"55px"}}),title:"Hi ".concat(t.username),description:"Here are some books you've bookmarked"})})}):Object(k.jsx)(T.a,{xs:24,sm:24,md:{span:16,offset:4},children:Object(k.jsx)(he.a,{active:!0})}),t.bookmarks?t.bookmarks.map((function(e){return Object(k.jsx)(T.a,{xs:24,sm:24,md:{span:8},children:Object(k.jsxs)(de.a,{hoverable:!0,cover:Object(k.jsx)("img",{alt:"Book Cover",src:e.bookCover}),actions:[Object(k.jsx)(R.a,{title:"Send swap request",placement:"top",color:Ae,children:Object(k.jsx)(Me.a,{},"swap")}),Object(k.jsx)(R.a,{title:"Remove bookmark",placement:"top",color:Ae,children:Object(k.jsx)(_e.a,{name:"bookmarks",onClick:h},"bookmark")}),Object(k.jsx)(R.a,{title:"See the review",placement:"top",color:Ae,children:Object(k.jsx)(Fe.a,{onClick:i},"more")})],children:[Object(k.jsx)(Le,{title:"".concat(e.title)}),Object(k.jsx)(_.a,{title:"".concat(e.title),footer:!1,visible:s,onOk:j,onCancel:u,children:e.review})]})},e._id)})):Object(k.jsx)(T.a,{span:16,offset:4,children:Object(k.jsx)(he.a,{active:!0})})]})},Ee=q.a.Title,He=q.a.Text,Ue=de.a.Meta,Pe="geekblue";var De=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),s=Object(l.a)(r,2),o=(s[0],s[1],Object(a.useState)(null)),i=Object(l.a)(o,2),j=i[0],u=i[1],h=Object(a.useState)(null),p=Object(l.a)(h,2),O=(p[0],p[1],C().user),f=function(){c(!0)},m=function(){c(!1)},v=function(){c(!1)},g=function(e){var t;console.log(e),t=e,x.patch("/book/add/".concat(t))};return Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:t=e.sent,n=t.data.books,u(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(k.jsx)(I.a,{gutter:[16,16],children:j?j.map((function(e){return Object(k.jsx)(T.a,{xs:{span:16},md:{span:8},children:Object(k.jsxs)(de.a,{hoverable:!0,cover:Object(k.jsx)("img",{alt:"example",src:e.bookCover}),actions:[Object(k.jsx)(R.a,{title:"Send swap request",placement:"top",color:Pe,children:Object(k.jsx)(Me.a,{onClick:""},"swap")}),Object(k.jsx)(R.a,{title:"Add to bookmarks",placement:"top",color:Pe,children:Object(k.jsx)(_e.a,{onClick:function(){g(e._id)}},"bookmark")}),Object(k.jsx)(R.a,{title:"See the review",placement:"top",color:Pe,children:Object(k.jsx)(Fe.a,{onClick:f},"more")})],title:e.name,children:[Object(k.jsx)(Ue,{avatar:Object(k.jsx)(F.a,{src:e.owner.avatar}),title:"".concat(e.owner.username)}),Object(k.jsx)(Ee,{level:4,style:{fontFamily:"Raleway",fontWeight:500},children:e.title}),Object(k.jsx)(He,{children:e.author}),Object(k.jsx)(_.a,{title:"Rese\xf1a de ".concat(e.title," por ").concat(O.username),footer:!1,visible:n,onOk:m,onCancel:v,children:e.review})]})},e._id)})):Object(k.jsx)(T.a,{span:16,offset:4,children:Object(k.jsx)(he.a,{active:!0})})})},qe=n(177),Je=n.n(qe);var We,Ge=function(){return Object(k.jsx)(o.a,{children:Object(k.jsx)(E,{children:Object(k.jsxs)(i.d,{children:[Object(k.jsx)(i.b,{exact:!0,path:"/",component:fe}),Object(k.jsx)(P,{path:"/auth",component:ke}),Object(k.jsx)(P,{path:"/signup",component:Ce}),Object(k.jsx)(D,{path:"/profile",component:Re}),Object(k.jsx)(i.b,{path:"/book/create",component:Je.a}),Object(k.jsx)(i.b,{path:"/book/explore",component:De}),Object(k.jsx)(i.b,{path:"/book/bookmarks",component:Ne})]})})})},Ke=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,311)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},Xe=(n(290),Object(re.a)(We||(We=Object(ce.a)(['\n    @import url(\'https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;1,100;1,200;1,300;1,400;1,500;1,600&family=Raleway:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400;1,500;1,600&display=swap\');\n\n    html{\n        margin: 0; \n        padding:0;\n        background-color: white;\n        font-family: Montserrat, sans-serif; \n        font-weight: 500;\n        font-size:16px;\n    }\n\n    h1{\n        font-family: Raleway, sans-serif; \n        font-weight: 500;\n        font-size:2.5 rem;\n\n    h2{\n        font-family: Raleway, sans-serif; \n        font-weight: 500;\n        font-size:2 rem;\n    }\n\n    h3{\n        font-family: Raleway, sans-serif; \n        font-weight: 500;\n        font-size:1.25 rem;\n    }\n\n    h4{\n        font-family: Montserrat, sans-serif; \n        font-weight: 500;\n        font-size:1 rem;\n    }\n\n    h5{\n        font-family: Montserrat, sans-serif; \n        font-weight: 300 italic;\n        font-size:1 rem;\n    }\n\n    h6{\n        font-family: Montserrat, sans-serif; \n        font-weight: 300;\n        font-size:1 rem;\n    }\n\n    p{\n        font-family: Montserrat, sans-serif; \n        font-weight: 300;\n        font-size:.8 rem;\n    }\n\n    .eye{\n        background-color:"white", \n        border-width:0,\n    }\n    .eye:hover{\n        background-color:"white", \n        border-width:0,\n    }\n    .eye:active{\n        background-color:"white", \n        border-width:0,\n    }\n\n']))));s.a.render(Object(k.jsxs)(c.a.StrictMode,{children:[Object(k.jsx)(Xe,{}),Object(k.jsx)(S,{children:Object(k.jsx)(Ge,{})})]}),document.getElementById("root")),Ke()}},[[291,1,2]]]);
//# sourceMappingURL=main.c2ab7578.chunk.js.map